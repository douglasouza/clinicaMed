<barra-navegacao></barra-navegacao>

<h1>Pesquisar Consultas</h1>
<hr>

<mensagem-erro></mensagem-erro>
<mensagem-sucesso mostrar-alerta-sucesso="mostrarAlertaSucesso"></mensagem-sucesso>

<div class="row">
    <div class="col-md-6 form-group">
        <input id="nomeMedicoPacienteFiltro" name="nomeMedicoPacienteFiltro" class="form-control" type="text"
               placeholder="Pesquisar por Nome do Paciente ou Nome do MÃ©dico" ng-model="filtro.nomeMedicoPaciente">
    </div>

    <div class="col-md-3 form-group">
        <input id="dataConsulta" name="dataConsulta" class="form-control" type="text"
               ng-model="consulta.dataConsulta" placeholder="Data Inicial"
               maxlength="254" ng-disabled="acaoFinalizada" required>
    </div>

    <div ng-show="!pesquisaRealizada" class="col-md-2 form-group">
        <button type="button" class="btn btn-block btn-primary" ng-click="pesquisar()">
            <span class="glyphicon glyphicon-search"></span> Pesquisar
        </button>
    </div>

    <div ng-show="pesquisaRealizada" class="col-md-1 form-group">
        <button type="button" class="btn btn-block btn-primary" ng-click="pesquisar()">
            <span class="glyphicon glyphicon-search"></span>
        </button>
    </div>

    <div ng-show="pesquisaRealizada" class="col-md-1 form-group">
        <button type="button" class="btn btn-block btn-danger" ng-click="limparPesquisa()">
            <span class="glyphicon glyphicon-erase"></span>
        </button>
    </div>

    <div class="col-md-1">
        <button type="button" class="btn btn-block btn-success" ui-sref="consulta.novo">
            <span class="glyphicon glyphicon-plus-sign"></span>
        </button>
    </div>
</div>

<tabela-listagem registros="consultas" colunas="colunas" pagina-atual="paginaAtual"
                 acao-editar="editarConsulta(id)" acao-excluir="excluirConsulta(id)"></tabela-listagem>
<paginacao-listagem num-registros="consultas.length" pagina-atual="paginaAtual"></paginacao-listagem>

<div id="modalExclusao" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Deseja realmente excluir este cadastro?</h4>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    Cancelar
                </button>
                <button type="button" class="btn btn-success" data-dismiss="modal"
                        ng-click="confirmarExcluirConsulta()">
                    Confirmar
                </button>
            </div>
        </div>
    </div>
</div>